package net.activelook.sdk

import org.apache.commons.codec.binary.Base64
import org.junit.Test
import java.util.zip.CRC32
import java.util.zip.Checksum

class BitmapHashTest {
    @Test
    fun TestCRC32Clash() {
        val bmp1b64 = "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\n" +
                "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQ3d3d3d3dAAAAAAAAAAAAAAAAAAAAAAAAAAAAAN3d3d3d3d3d3Q0AAAAAAAAAAAAAAAAAAAAAAAAA3d3d3d3d3d3d3d0NAAAAAAAAAAAAAAAAAAAAAADd3d3d3d3d3d3d3d3dDQAAAAAAAAAAAAAAAAAAANDd3d3d3d3d3d3d3d3d3QAAAAAAAAAAAAAAAAAAAN3d3d3d3d3d3d3d3d3d\n" +
                "3Q0AAAAAAAAAAAAAAAAA0N3d3d3dDQAAAADd3d3d3d0AAAAAAAAAAAAAAAAA3d3d3d0AAAAAAAAA0N3d3d0NAAAAAAAAAAAAAADQ3d3d3QAAAAAAAAAAANDd3d3dAAAAAAAAAAAAAADd3d3dDQAAAAAAAAAAAADd3d3dDQAAAAAAAAAAANDd3d3NAAAAAAAAAAAAAADQ3d3d3QAAAAAAAAAAANDd3d0NAAAAAAAAAAAAAAAA3d3d3QAAAAAAAAAA\n" +
                "AN3d3d0AAN3dAAAAAAAAAAAA0N3d3Q0AAAAAAAAAAN3d3Q0A0N3dDQAAAAAAAAAAAN3d3Q0AAAAAAAAA0N3d3QwA0N3d3QAAAAAAAAAAAN7d3d0AAAAAAAAA0N3d3QAA0N3d3Q0AAAAAAAAAANDd3d0AAAAAAAAA293dzQAA0N3d3d0AAAAAAAAAANDd3d0AAAAAAAAA3d3dDQAAAN3d3d0NAAAAAAAAAADd3d0NAAAAAAAA3d3dDQAAANDd3d3d\n" +
                "AAAAAAAAAADd3d0NAAAAAAAA3d3dDQAAAADd3d3dDQAAAAAAAADd3d0NAAAAAAAA3d3dDAAAAADQ3d3d3QAAAAAAAADd3d0NAAAAAAAA3d3dDwAAAAAA3d3d3Q0AAAAAAADd3d0NAAAAAAAA3d3dAAAAAAAA0N3d3Q0AAAAAAADd3d0NAAAAAAAA3d3dDwAAAAAAAN3d3Q0AAAAAAADd3d0NAAAAAAAA3d3dDAAAAAAAAN3d3Q0AAAAAAADd3d0N\n" +
                "AAAAAAAA3d3dDQAAAAAAAN3d3Q0AAAAAAADd3d0NAAAAAAAA3d3dDQAAAAAAAN3d3Q0AAAAAAADd3d0NAAAAAAAA3d3dDQAAAAAAAN3d3Q0AAAAAAADd3d0NAAAAAAAA0N3d3QAAAAAAAN3d3Q0AAAAAANDd3d0AAAAAAAAA0N3d3QAAAAAAAN3d3Q0AAAAAANDd3d0AAAAAAAAA0N3d3QwAAAAAAN3d3Q0AAAAAAN3d3c0AAAAAAAAAAN3d3Q0A\n" +
                "AAAAAN3d3Q0AAAAAAN3d3Q0AAAAAAAAAAN3d3d0AAAAAAN3d3Q0AAAAA0N3d3QwAAAAAAAAAANDd3d0NAAAAAN/d3QAAAAAA3d3d3QAAAAAAAAAAAPDd3d3dAAAAANDd3QAAAADQ3d3dDQAAAAAAAAAAAADd3d3dDQAAAACwAAAAAADd3d3dDQAAAAAAAAAAAADQ3d3d3Q8AAAAAAAAAANzd3d3dAAAAAAAAAAAAAAAA3d3d3d0PAAAAAAAA393d\n" +
                "3d0NAAAAAAAAAAAAAAAA0N3d3d3d/QAAAPDd3d3d3d0AAAAAAAAAAAAAAAAAAN3d3d3d3d3d3d3d3d3d3Q0AAAAAAAAAAAAAAAAAANDd3d3d3d3d3d3d3d3d3QAAAAAAAAAAAAAAAAAAAADd3d3d3d3d3d3d3d3dDwAAAAAAAAAAAAAAAAAAAAAA3d3d3d3d3d3d3d0NAAAAAAAAAAAAAAAAAAAAAAAAAN3d3d3d3d3d3QwAAAAAAAAAAAAAAAAA\n" +
                "AAAAAAAAAADA3d3d3d3dAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\n" +
                "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\n"
        val bmp2b64 = "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\n" +
                "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0N3d3d3d3d3d3d3d3d3d\n" +
                "3d3d3d0AAAAAAAAAAAAA3d3d3d3d3d3d3d3d3d3d3d3d3d0NAAAAAAAAAADA3d3d3d3d3d3d3d3d3d3d3d3d3d0NAAAAAAAAAADQ3d3d3d3d3d3d3d3d3d3d3d3d3d0NAAAAAAAAAADA3d3d3d3d3d3d3d3d3d3d3d3d3d0NAAAAAAAAAAAA3d3d3d3d3d3d3d3d3d3d3d3d3d0NAAAAAAAAAAAA0N3d3d3d3d3d3d3d3d3d3d3d3f0AAAAAAAAA\n" +
                "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\n" +
                "AAAAAAAAAAAAAAAAAN3d3d3d3d3d3d3d3d3d3d3d3d0AAAAAAAAAAAAA3d3d3d3d3d3d3d3d3d3d3d3d3d0NAAAAAAAAAAAA3d3d3d3d3d3d3d3d3d3d3d3d3d29AAAAAAAAAAAA3d3d3d3d3d3d3d3d3d3d3d3d3d3dAAAAAAAAAAAA3d3d3d3d3d3d3d3d3d3d3d3d3d3dAAAAAAAAAAAA3d3d3d3d3d3d3d3d3d3d3d3d3d0NAAAAAAAAAAAA\n" +
                "0N3d3d3d3d3d3d3d3d3d3d3d3d0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\n" +
                "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8N3d3d3d3d3d3d3d3d3d3d3d3Q0AAAAAAAAAAAAA3N3d3d3d3d3d3d3d3d3d3d3d3d0AAAAAAAAAAAAA3d3d3d3d3d3d3d3d3d3d3d3d3d0NAAAAAAAAAADQ3d3d3d3d3d3d3d3d3d3d3d3d3d0NAAAAAAAAAACw3d3d3d3d3d3d3d3d3d3d3d3d\n" +
                "3d0NAAAAAAAAAAAA3d3d3d3d3d3d3d3d3d3d3d3d3d0NAAAAAAAAAAAA0N3d3d3d3d3d3d3d3d3d3d3d3d0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\n" +
                "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\n" +
                "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\n"

        val bmp1bytes = Base64.decodeBase64(bmp1b64)
        assert(bmp1bytes != null)
        val bmp2bytes = Base64.decodeBase64(bmp2b64)
        assert(bmp2bytes != null)

        val bmp1crc = CRC32()
        bmp1crc.update(bmp1bytes)
        val bmp2crc = CRC32()
        bmp2crc.update(bmp2bytes)

        assert(bmp1crc.value != bmp2crc.value)
    }
}
